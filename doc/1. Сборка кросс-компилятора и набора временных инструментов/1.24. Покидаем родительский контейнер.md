
# üê≥ –°–æ–∑–¥–∞–Ω–∏–µ Docker-–æ–±—Ä–∞–∑–∞ `dlfs` –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `main`

–≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—É—é DLFS-—Å–∏—Å—Ç–µ–º—É –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `main` –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –æ–±—Ä–∞–∑ Docker (`dlfs`), –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ.

---

## üì¶ 1. –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ dlfs –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `main`

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –æ–∫—Ä—É–∂–µ–Ω–∏—è DLFS:

```bash
cd $DLFS
```

–°–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ –≤—Å–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ LFS:

```bash
tar -cvf /dlfs.tar *
```

–£–¥–∞–ª–∏—Ç–µ –∏–∑ –∞—Ä—Ö–∏–≤–∞ –ø–∞–ø–∫—É `sources`, —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∏ –∏—Å–∫–ª—é—á–∏—Ç—å –∏—Å—Ö–æ–¥–Ω–∏–∫–∏:

```bash
tar --delete -f /dlfs.tar sources
```

> ‚ö†Ô∏è `sources` —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª—å—à–∏–µ –∞—Ä—Ö–∏–≤—ã –∏ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–∞ –≤ –æ–±—Ä–∞–∑–µ.

---

## üíª 2. –ù–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ (–≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞, –æ—Ç–∫—É–¥–∞ –≤—ã –∑–∞–ø—É—Å–∫–∞–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `main`, –æ—Ç–∫—Ä–æ–µ–º –≤—Ç–æ—Ä—É—é –≤–∫–ª–∞–¥–∫—É —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

```
cd /dlfs/main
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∞—Ä—Ö–∏–≤–∞ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```
docker cp main:/dlfs.tar dlfs.tar
```

‚úÖ –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
Successfully copied 3.25GB to /dlfs/main/dlfs.tar
```

---

## üì• 3. –ò–º–ø–æ—Ä—Ç –∞—Ä—Ö–∏–≤–∞ –∫–∞–∫ –æ–±—Ä–∞–∑ Docker

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ dlfs –≤ –≤–∏–¥–µ Docker-–æ–±—Ä–∞–∑–∞ `dlfs`:

```
docker import dlfs.tar dlfs
```

‚úÖ –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
sha256:760d4f1ff8470c96a04824a5032674afa6118ad2d15ddc5ab1872dd57ea6ba49
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–±—Ä–∞–∑ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω:

```
docker images
```

‚úÖ –ü—Ä–∏–º–µ—Ä:

```
root@testos:/dlfs/main# docker images
REPOSITORY                      TAG       IMAGE ID       CREATED          SIZE
dlfs                            latest    b4d5d6d6f050   24 seconds ago   3.24GB
main                            latest    0caad7d4af8d   2 hours ago      2.97GB
```

–î–∞–ª—å—à–µ –º—ã –º–æ–∂–µ–º –ø–æ–∫–∏–Ω—É—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```
exit
```

---

## üöÄ 4. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `dlfs` –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `dlfs`, –ø—Ä–æ–±—Ä–æ—Å–∏–≤ –ø–∞–ø–∫—É —Å –∏—Å—Ö–æ–¥–Ω–∏–∫–∞–º–∏:
```
cd /dlfs
```

```
docker run -it --rm --name dlfs --hostname dlfs -v ./main/mnt/dlfs/sources:/sources dlfs bash
```

‚úÖ –ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

```
docker run -it --rm --name dlfs --hostname dlfs -v ./main/mnt/dlfs/sources:/sources dlfs bash
bash-5.2# ls
bin  dev  etc  lib  lib64  proc  run  sbin  sources  sys  tools  usr  var
bash-5.2#
```

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–±–æ—Ä–∫—É DLFS, –Ω–∞—á–∏–Ω–∞—è —É–∂–µ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è `dlfs`.

---

## ‚úÖ –ò—Ç–æ–≥–æ

| –®–∞–≥                 | –û–ø–∏—Å–∞–Ω–∏–µ                                               |
| ------------------- | ------------------------------------------------------ |
| –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ `main` | –£–ø–∞–∫–æ–≤—ã–≤–∞–µ–º dlfs –∏ —É–¥–∞–ª—è–µ–º `sources`                   |
| –í —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–µ      | –ö–æ–ø–∏—Ä—É–µ–º –∞—Ä—Ö–∏–≤ –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –µ–≥–æ –∫–∞–∫ –æ–±—Ä–∞–∑             |
| –í Docker            | –ó–∞–ø—É—Å–∫–∞–µ–º –≥–æ—Ç–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É `dlfs` –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã |
| –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ `main` | exit - –ø–æ–∫–∏–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä main                         |

---

–¢–µ–ø–µ—Ä—å –≤—ã –æ–±–ª–∞–¥–∞–µ—Ç–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–º –æ–±—Ä–∞–∑–æ–º –≤–∞—à–µ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π DLFS-—Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤  Docker.