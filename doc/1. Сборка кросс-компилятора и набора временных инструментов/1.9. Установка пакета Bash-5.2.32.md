**Bash (Bourne Again SHell)** ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ Linux-—Å–∏—Å—Ç–µ–º. –ò–º–µ–Ω–Ω–æ –æ–Ω–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ –≤ DLFS.

---

## üîß 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

```bash
cd $DLFS/sources
tar -xf bash-5.2.32.tar.gz
cd bash-5.2.32
mkdir -v build && cd build
../configure --prefix=/usr \
            --build=$(sh ../support/config.guess) \
            --host=$DLFS_TGT \
            --without-bash-malloc \
            bash_cv_strtold_broken=no
```

### üìñ –ü–æ—è—Å–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

- `--prefix=/usr` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Bash –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—É—Ç—å.
    
- `--build=$(sh ../support/config.guess)` ‚Äî –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Ç–µ–∫—É—â–µ–π —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º—ã.
    
- `--host=$DLFS_TGT` ‚Äî –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Ü–µ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã (LFS).
    
- `--without-bash-malloc` ‚Äî –æ—Ç–∫–ª—é—á–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ `malloc` Bash, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å **segfault**. Bash –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π `malloc` –∏–∑ **glibc**.
    
- `bash_cv_strtold_broken=no` ‚Äî —ç—Ç–æ—Ç —Ñ–ª–∞–≥ —Å–æ–æ–±—â–∞–µ—Ç —Å–±–æ—Ä–æ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, —á—Ç–æ `strtold()` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–∏–Ω–∞—á–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏).
    

---

## ‚öôÔ∏è 2. –ö–æ–º–ø–∏–ª—è—Ü–∏—è

```bash
bash -c "$MAKE_CMD"
```

---

## üì¶ 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
make DESTDIR=$DLFS install
```

> ‚õ≥ –ó–¥–µ—Å—å `DESTDIR=$DLFS` —É–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Bash –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –±—É–¥—É—â–µ–π —Å–∏—Å—Ç–µ–º—ã (–∞ –Ω–µ –≤ —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É —Ö–æ—Å—Ç–∞).

---

## üîó 4. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–π —Å—Å—ã–ª–∫–∏ `/bin/sh`

```bash
ln -sv bash $DLFS/bin/sh
```

> üìé –ú–Ω–æ–≥–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –ø—Ä–æ–≥—Ä–∞–º–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç `/bin/sh` –∫–∞–∫ –æ–±–æ–ª–æ—á–∫—É. –ù–∞ DLFS –º—ã **—Å—Å—ã–ª–∞–µ–º –µ—ë –Ω–∞ Bash**, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.

---

## ‚úÖ –ß—Ç–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

- `/usr/bin/bash` ‚Üí –æ—Å–Ω–æ–≤–Ω–æ–π –±–∏–Ω–∞—Ä–Ω–∏–∫
    
- `/bin/sh` ‚Üí —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ `bash`
    
- `/usr/share/man/man1/bash.1` ‚Üí –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    

---
## –û—á–∏—Å—Ç–∫–∞

```bash
rm -rf $DLFS/sources/bash-5.2.32
```
