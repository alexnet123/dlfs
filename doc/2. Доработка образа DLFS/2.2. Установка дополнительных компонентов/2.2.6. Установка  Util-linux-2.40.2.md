
–ü–∞–∫–µ—Ç **Util-linux** —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç, –æ—Ç–≤–µ—á–∞—é—â–∏—Ö –∑–∞:

- —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (`mount`, `umount`);
    
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞–º–∏ (`fdisk`, `blkid`);
    
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å–æ–ª—å—é (`agetty`, `kill`, `login` –∏ –¥—Ä.);
    
- —Ä–∞–±–æ—Ç—É —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º–∏ —á–∞—Å–∞–º–∏, UUID, —Ç–µ—Ä–º–∏–Ω–∞–ª–∞–º–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.
    

---

## üì¶ –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

|–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞|–ó–Ω–∞—á–µ–Ω–∏–µ|
|---|---|
|‚è±Ô∏è –í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏|~0.2 SBU|
|üíæ –¢—Ä–µ–±—É–µ–º–æ–µ –º–µ—Å—Ç–æ|~180 MB|
|üìö –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|–ë–∞–∑–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã|
|üìå –°—Ç–∞–Ω–¥–∞—Ä—Ç|FHS, LSB|

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Util-linux

### 1Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ –¥–ª—è `adjtime`

```bash
mkdir -pv /var/lib/hwclock
```

> –°–æ–≥–ª–∞—Å–Ω–æ FHS, —Ñ–∞–π–ª `adjtime` (–∫–æ—Ä—Ä–µ–∫—Ü–∏—è –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö —á–∞—Å–æ–≤) –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ `/var/lib`, –∞ –Ω–µ –≤ `/etc`.

---

### 2Ô∏è‚É£ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π

```bash
cd /sources
tar -xf util-linux-2.40.2.tar.xz 
cd util-linux-2.40.2
./configure --libdir=/usr/lib \
            --runstatedir=/run \
            --disable-chfn-chsh \
            --disable-login \
            --disable-nologin \
            --disable-su \
            --disable-setpriv \
            --disable-runuser \
            --disable-pylibmount \
            --disable-static \
            --disable-liblastlog2 \
            --without-python \
            ADJTIME_PATH=/var/lib/hwclock/adjtime \
            --docdir=/usr/share/doc/util-linux-2.40.2
```

### üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

|–ü–∞—Ä–∞–º–µ—Ç—Ä|–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ|
|---|---|
|`--libdir=/usr/lib`|–†–∞–∑–º–µ—â–µ–Ω–∏–µ `.so`-—Ñ–∞–π–ª–æ–≤ –≤–º–µ—Å—Ç–µ —Å –∏—Ö —Å–∏–º–ª–∏–Ω–∫–∞–º–∏|
|`--runstatedir=/run`|–†–∞–∑–º–µ—â–µ–Ω–∏–µ —Å–æ–∫–µ—Ç–æ–≤ `uuidd`, `libuuid`|
|`--disable-<–æ–ø—Ü–∏—è>`|–û—Ç–∫–ª—é—á–∞–µ—Ç —É—Ç–∏–ª–∏—Ç—ã, —Ç—Ä–µ–±—É—é—â–∏–µ PAM –∏–ª–∏ Python (–Ω–∞–ø—Ä–∏–º–µ—Ä, `login`, `su`)|
|`--without-python`|–£–±–∏—Ä–∞–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ —Å–±–æ—Ä–∫–∏ Python-–ø—Ä–∏–≤—è–∑–æ–∫|
|`ADJTIME_PATH=/var/lib/hwclock/adjtime`|–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö —á–∞—Å–æ–≤|
|`--docdir=...`|–ö–∞—Ç–∞–ª–æ–≥ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏|

---

### 3Ô∏è‚É£ –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞

```bash
bash -c "$MAKE_CMD"
```

> –°–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —É—Ç–∏–ª–∏—Ç—ã: `mount`, `blkid`, `uuidgen`, `dmesg`, `more`, `lslogins`, –∏ –¥—Ä.

---

### 4Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
make install
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–ª—é—á–µ–≤—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã:

- `/usr/bin/mount`, `/usr/bin/umount`
    
- `/usr/bin/lsblk`, `/usr/bin/blkid`
    
- `/usr/bin/dmesg`, `/usr/bin/uuidgen`
    
- `/usr/bin/cal`, `/usr/bin/logger`, –∏ –¥—Ä.
    

> –≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —è–¥—Ä–∞, –∑–∞–≥—Ä—É–∑–∫–∏, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —É—Ç–∏–ª–∏—Ç—ã (`login`, `su`, `runuser`) –æ—Ç–∫–ª—é—á–µ–Ω—ã –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ, –ø–æ—Å–∫–æ–ª—å–∫—É:

- –æ–Ω–∏ —Ç—Ä–µ–±—É—é—Ç PAM –∏–ª–∏ Shadow, –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã;
    
- –∏—Ö —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø–æ–∑–¥–Ω–µ–µ –≤ —Å–æ—Å—Ç–∞–≤–µ –±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ä–µ–¥—ã.
    

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–≥—É –æ—Ñ–æ—Ä–º–∏—Ç—å —Ç–∞–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã –¥–ª—è –≤—Å–µ—Ö —É—Ç–∏–ª–∏—Ç –≤ —Ç–≤–æ–µ–π LFS-—Å–±–æ—Ä–∫–µ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å TOC (—Ç–∞–±–ª–∏—Ü—É —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è).
## –û—á–∏—Å—Ç–∫–∞

```bash
rm -rf /sources/util-linux-2.40.2
```
