
## üìò –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```bash
rm -rf /usr/share/{info,man,doc}/*
```

- –£–¥–∞–ª—è–µ—Ç `man`, `info` –∏ –ø—Ä–æ—á—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.
    
- **–≠–∫–æ–Ω–æ–º–∏—Ç ~35 MB**.
    
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ `man` –∏ `info`.
    

---

## üß® –£–¥–∞–ª–µ–Ω–∏–µ `.la`-—Ñ–∞–π–ª–æ–≤ (`libtool`)

```bash
find /usr/{lib,libexec} -name "*.la" -delete
```

- –£–¥–∞–ª—è–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ `libtool archive`-—Ñ–∞–π–ª—ã.
    
- –û–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã –≤ DLFS (–Ω–µ—Ç `libltdl`) –∏ **–º–æ–≥—É—Ç –º–µ—à–∞—Ç—å** —Å–±–æ—Ä–∫–µ BLFS-–ø–∞–∫–µ—Ç–æ–≤.
    

---

## üóë –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ç—É–ª—á–µ–π–Ω–∞ `/tools`

```bash
rm -rf /tools
```

- –ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω: –≤—Å–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã —É–∂–µ –≤ `/usr`, `/lib`, `/bin`.
    
- **–û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç ~1 GB –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.**
    

---

## üîê –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ `bash`

```bash
history -c
unset HISTFILE
rm -f /root/.bash_history
```

- –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç —Å–ª–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
    
- –ü–æ–ª–µ–∑–Ω–æ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ–±—Ä–∞–∑–∞.
    

---

# üì¶ –°–æ–∑–¥–∞–Ω–∏–µ —á–∏—Å—Ç–æ–≥–æ rootfs DLFS –≤ `.tar`

---

## ‚úÖ –ß—Ç–æ –≤–∫–ª—é—á–∞—Ç—å

```text
/boot
/etc
/home
/lib         ‚Üí —Å–∏–º–ª–∏–Ω–∫ –Ω–∞ /usr/lib
/lib64
/media
/mnt
/opt
/root
/srv
/tmp
/usr
/var
/bin         ‚Üí —Å–∏–º–ª–∏–Ω–∫ –Ω–∞ /usr/bin
/sbin        ‚Üí —Å–∏–º–ª–∏–Ω–∫ –Ω–∞ /usr/sbin
```

---

## ‚ùå –ß—Ç–æ –∏—Å–∫–ª—é—á–∏—Ç—å

```text
/dev           ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è FS, —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
/proc          ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è FS —è–¥—Ä–∞
/sys           ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è sysfs
/run           ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å, –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
/tmp/*         ‚Äî –æ—á–∏—â–∞–µ—Ç—Å—è
/.dockerenv    ‚Äî –∞—Ä—Ç–µ—Ñ–∞–∫—Ç Docker
/sources       ‚Äî –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω –∞—Ä—Ö–∏–≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
```

---

## üõ† –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

### 1. –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è rootfs

```bash
mkdir -p /dlfs2
```

### 2. –ö–æ–ø–∏—Ä—É–µ–º –≤—Ä—É—á–Ω—É—é –Ω—É–∂–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏

```bash
cp -a /bin     /dlfs2/
cp -a /boot    /dlfs2/
cp -a /etc     /dlfs2/
cp -a /home    /dlfs2/
cp -a /lib     /dlfs2/
cp -a /lib64   /dlfs2/
cp -a /media   /dlfs2/
cp -a /mnt     /dlfs2/
cp -a /opt     /dlfs2/
cp -a /root    /dlfs2/
cp -a /sbin    /dlfs2/
cp -a /srv     /dlfs2/
cp -a /usr     /dlfs2/
cp -a /var     /dlfs2/
mkdir -p /dlfs2/dev
mkdir -p /dlfs2/proc
mkdir -p /dlfs2/sys
mkdir -p /dlfs2/run
chmod 755 /dlfs2/{dev,proc,sys,run}
```

---

## üßπ –°–æ–∑–¥–∞–Ω–∏–µ `tmp` –≤—Ä—É—á–Ω—É—é

```bash
mkdir -p /dlfs2/tmp /dlfs2/var/tmp
chmod 1777 /dlfs2/tmp /dlfs2/var/tmp
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∞—Ä—Ö–∏–≤–∞—Ü–∏–µ–π

```bash
ls -lh /dlfs2
du -sh /dlfs2
```

---

## üì¶ –ê—Ä—Ö–∏–≤–∞—Ü–∏—è `rootfs`

```bash
cd /dlfs2
tar -cvf /dlfs2.tar *
```

---

# üì§ –í—ã–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### 1. –ù–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ (–≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)

```text
cd /dlfs
mkdir -p dlfs2
cd dlfs2
```

### 2. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```text
docker cp dlfs:/dlfs2.tar dlfs2.tar
```

‚úÖ –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```text
Successfully copied 1.88GB to /dlfs/dlfs2/dlfs2.tar
```

---

# üê≥ –ò–º–ø–æ—Ä—Ç –≤ Docker

### –ò–º–ø–æ—Ä—Ç `.tar` –∫–∞–∫ –æ–±—Ä–∞–∑–∞:

```text
docker import dlfs2.tar dlfs:2
```

‚úÖ –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```text
sha256:760d4f1ff8470c96a04824a5032674afa6118ad2d15ddc5ab1872dd57ea6ba49
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤:

```text
docker images
```

‚úÖ –ü—Ä–∏–º–µ—Ä:

```text
REPOSITORY   TAG     IMAGE ID       CREATED          SIZE
dlfs         2       760d4f1f...    12 seconds ago   1.88GB
```

---

## üö™ –í—ã—Ö–æ–¥ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```text
exit
```

---
